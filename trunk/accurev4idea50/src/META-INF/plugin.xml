<?xml version='1.0'?>
<!DOCTYPE idea-plugin PUBLIC "Plugin/DTD" "http://plugins.intellij.net/plugin.dtd">

<idea-plugin url="@project.url@" version="2">
    <vendor url="@project.author.url@" email="@project.author.email@">@project.author@</vendor>
    <name>accurev4idea</name>
    <version>@project.version@</version>
    <description>@project.description@</description>
    <change-notes><![CDATA[<html><pre>@project.version.notes@</pre></html>]]></change-notes>
    <idea-version since-build="3400"/>

    <!--<extensions xmlns="com.intellij">-->
        <!--<errorHandler implementation="com.intellij.diagnostic.ITNReporter"/>-->
    <!--</extensions>-->

    <application-components>
        <component>
            <implementation-class>net.java.accurev4idea.plugin.providers.AccuRevCheckoutProvider</implementation-class>
        </component>
    </application-components>

    <project-components>
        <component>
            <interface-class>net.java.accurev4idea.plugin.AccuRevVcs</interface-class>
            <implementation-class>net.java.accurev4idea.plugin.AccuRevVcs</implementation-class>
            <option name="workspace" value="true"/>
        </component>
        <component>
            <implementation-class>net.java.accurev4idea.plugin.AccuRevConfiguration</implementation-class>
            <option name="workspace" value="true"/>
        </component>
        <component>
            <implementation-class>net.java.accurev4idea.plugin.AccuRevToIdeaAdapter</implementation-class>
            <option name="workspace" value="true"/>
        </component>
    </project-components>

    <actions>
        <!--<group id="AccuRevGlobalActionsGroup">-->
        <!--<add-to-group group-id="VcsGlobalGroup" anchor="last"/>-->
        <!--<action id="AccuRev.CommitProject" class="net.java.accurev4idea.actions.ActionCommitProject"-->
        <!--text="_Keep changes..." description="Bring up commit project window">-->
        <!--<keyboard-shortcut first-keystroke="control K" keymap="$default"/>-->
        <!--</action>-->
        <!--<action id="AccuRev.UpdateProject" class="net.java.accurev4idea.actions.ActionUpdateProject"-->
        <!--text="_Update..." description="Run 'accurev update' for current project.">-->
        <!--<keyboard-shortcut first-keystroke="control T" keymap="$default"/>-->
        <!--</action>-->
        <!--<action id="AccuRev.ActionStatusUpdate" class="net.java.accurev4idea.actions.ActionStatusUpdate"-->
        <!--text="_Refresh Status..." description="Updates statuses of all files from AccuRev"/>-->
        <!--</group>-->

        <!-- This Group is what shows on a right-click popup in the project tree on a file -->
        <group id="AccuRevFilePopupGroup" class="net.java.accurev4idea.plugin.AccuRevVcsGroup" test="AccuRev" text="_AccuRev" popup="true">
          <add-to-group group-id="VcsGroup" anchor="last"/>
        </group>

        <!-- This Group is what shows on the 'Version Control' menu at the end -->
        <group id="AccuRevGlobalGroup" class="net.java.accurev4idea.plugin.AccuRevVcsGroup" test="AccuRev" text="_AccuRev" popup="true">
            <add-to-group group-id="VcsGroups" anchor="last"/>
        </group>

        <group id="AccuRevVcsActions">
            <action id="AccuRev.ActionAdd" class="net.java.accurev4idea.plugin.actions.ActionAdd" text="Add..." description="Add the file to AccuRev workspace"/>
            <reference id="CheckinFiles"/>
            <reference id="UpdateFiles"/>
            <reference id="CheckStatusForFiles"/>

            <separator/>

            <action id="AccuRev.ActionRevertToBacked" class="net.java.accurev4idea.plugin.actions.ActionRevertToBacked" text="Revert to Backed"
                    description="Revert local changes made to the file to backed version"/>
            <action id="AccuRev.ActionRevertToLastKept" class="net.java.accurev4idea.plugin.actions.ActionRevertToLastKept" text="Revert to Last Kept"
                    description="Revert local changes made to the file to last kept version"/>
            <separator/>
            <action id="AccuRev.ActionDiffAgainstBacked"
                    class="net.java.accurev4idea.plugin.actions.ActionDiffAgainstBacked" text="Diff Against Backed"
                    description="Show difference between editor copy and backed version"/>
            <action id="AccuRev.ActionDiffAgainstLastKept"
                    class="net.java.accurev4idea.plugin.actions.ActionDiffAgainstLastKept" text="Diff Against Last Kept"
                    description="Show difference between editor copy and last kept version"/>
            <separator/>
            <action id="AccuRev.ActionRevisionHistory"
                    class="net.java.accurev4idea.plugin.actions.ActionRevisionHistory"
                    text="Revision History"
                    description="Show diff dialog with ability to select a revision from history to compare against"/>
            <separator/>

            <add-to-group group-id="AccuRevGlobalGroup" anchor="last"/>
            <add-to-group group-id="AccuRevFilePopupGroup" anchor="last"/>
        </group>
    </actions>


    <!--<actions>
      <group id="VssGlobalGroup" class="com.intellij.vssSupport.actions.VssGroup" text="SourceSa_fe" popup="true">
          <add-to-group group-id="VcsGroups" anchor="last"/>
          <action id="Vss.RunExplorer" class="com.intellij.vssSupport.actions.RunExplorerAction" text="Open SourceSafe _Explorer" description="Open SourceSafe explorer"/>
      </group>

      <group id="VssFilePopupGroup" class="com.intellij.vssSupport.actions.VssGroup" text="SourceSa_fe" popup="true">
          <add-to-group group-id="VcsGroup" anchor="last"/>
      </group>

      <group id="VssGroup">
          <add-to-group group-id="VssGlobalGroup" anchor="last"/>
          <add-to-group group-id="VssFilePopupGroup" anchor="last"/>
          <action id="Vss.Checkout" class="com.intellij.vssSupport.actions.CheckoutAction" text="Check _Out..." description="Check out the file(s) from SourceSafe database for editing"/>
          <reference id="CheckinFiles"/>
          <action id="Vss.Add" class="com.intellij.vssSupport.actions.AddAction" text="_Add File..." description="Add new file to the SourceSafe database"/>
          <action id="Vss.Undocheckout" class="com.intellij.vssSupport.actions.UndocheckoutAction" text="_Undo Check Out..." description="Cancel a check out, voiding all changes"/>
          <separator/>
          <action id="Vss.Diff" class="com.intellij.vssSupport.actions.DiffAction" text="_Compare with SourceSafe Version..." description="Compare SourceSafe and local version of file"/>
          <action id="Vss.Get" class="com.intellij.vssSupport.actions.GetAction" text="_Get Latest Version..." description="Retrieve the most recent version of the file(s)"/>
      </group>
    </actions>-->
</idea-plugin>
